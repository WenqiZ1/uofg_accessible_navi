/* ========== Reset & Base ========== */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;width:100%;overflow:hidden;font-family:'Roboto',sans-serif}

/* ========== Map Fullscreen ========== */
#map{position:absolute;inset:0;z-index:0}

/* ========== Header (centered card) ========== */
#header{
  position:absolute;top:6px;left:50%;transform:translateX(-50%);
  max-width:min(1200px,94vw);
  background:rgba(255,255,255,.92);
  backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);
  color:#1d3557;font-family:'Poppins',sans-serif;
  padding:10px 16px;border-radius:12px;border:1px solid #e5e7eb;
  box-shadow:0 6px 16px rgba(0,0,0,.2);z-index:3;text-align:center
}
#header h1{
  font-weight:600;
  /* 不换行 + 更小 + 窄屏不溢出 */
  font-size:18px; line-height:1.25;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
#header p{font-size:12px;margin-top:4px;color:#475569}

/* ========== Controls bar ========== */
#controls{
  position:absolute;top:86px;left:50%;transform:translateX(-50%);
  background:#fff;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,.18);
  padding:8px 12px;z-index:2;display:flex;gap:10px;align-items:center
}
#controls input,#controls select{
  padding:6px 10px;border:1px solid #cbd5e1;border-radius:6px;
  background:#fff;height:36px;font-family:'Roboto',sans-serif
}

/* Language switch */
#langSwitch{display:flex;gap:6px;align-items:center;margin-right:2px}
.lang-btn{
  border:1px solid #cbd5e1;background:#fff;color:#334155;
  padding:6px 12px;border-radius:7px;font:500 13px 'Poppins',sans-serif;
  cursor:pointer;transition:filter .2s;min-width:46px;white-space:nowrap;text-align:center
}
.lang-btn.active{background:#1d4ed8;color:#fff;border-color:#1d4ed8}
.lang-btn:hover{filter:brightness(.96)}

/* Plan button */
#routeBtn{
  background:linear-gradient(90deg,#1da1f2,#0d8ddb);border:none;color:#fff;
  padding:10px 28px;border-radius:6px;cursor:pointer;font-weight:600;
  font-family:'Poppins',sans-serif;font-size:15px;min-width:145px;height:38px;
  transition:background .3s
}
#routeBtn:hover{background:linear-gradient(90deg,#0d8ddb,#1da1f2)}

/* Distance/Time pill */
#info{
  position:absolute;bottom:30px;left:50%;transform:translateX(-50%);
  background:rgba(255,255,255,.95);padding:10px 18px;font-weight:600;color:#334155;
  border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,.2);z-index:10;max-width:90%;
  white-space:nowrap
}

/* ========== Modal (welcome) ========== */
.modal{display:none;position:fixed;inset:0;z-index:50;background:rgba(0,0,0,.5)}
.modal.show{display:flex;align-items:center;justify-content:center}
.modal-content{
  background:#fff;padding:16px 18px 10px;border-radius:12px;width:calc(100vw - 28px);
  max-width:560px;max-height:80vh;overflow:auto;font-family:'Roboto',sans-serif;
  box-shadow:0 8px 22px rgba(0,0,0,.28);animation:fadeIn .25s ease-in-out
}
.modal-content h2{font-family:'Poppins',sans-serif;font-size:20px;margin:8px 0 10px;color:#1d3557}
.modal-content h3{font-family:'Poppins',sans-serif;font-size:16px;margin:10px 0 6px;color:#1f2937}
.modal-content p,.modal-content ul{font-size:15px;line-height:1.6;color:#374151}
.modal-content ul{padding-left:18px;margin:10px 0}
.modal-content li{margin-bottom:6px}
.modal-content .dontshow{display:block;margin-top:12px;font-size:14px;color:#374151}

/* sticky top close & sticky bottom button */
.modal-close{
  position:sticky;top:0;margin-left:auto;display:inline-block;
  border:none;background:transparent;font-size:22px;line-height:1;cursor:pointer;padding:4px 6px
}
.modal-buttons{position:sticky;bottom:0;background:#fff;padding-top:8px;margin-top:12px;text-align:center}
.modal-buttons button{
  padding:8px 16px;background:#1da1f2;color:#fff;border:none;border-radius:6px;
  cursor:pointer;font-family:'Poppins',sans-serif;font-weight:600
}
.modal-buttons button:hover{background:#0d8ddb}

@keyframes fadeIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}

/* ========== Responsive tweaks ========== */
@media (max-width:820px){
  #controls{top:calc(70px + 8px)}
}
@media (max-width:680px){
  #controls{
    top:calc(64px + 6px);left:50%;transform:translateX(-50%);
    width:calc(100vw - 16px);padding:8px;gap:6px;flex-wrap:wrap;align-items:stretch
  }
  #controls>*{flex:1 1 calc(50% - 6px);min-width:0}
  #langSwitch{order:-1;flex:0 0 auto}
  #routeBtn{flex:1 1 100%;height:40px;font-size:16px;padding:10px 0}
  #controls select,#controls input{height:38px;width:100%}
}
@media (max-width:480px){
  .modal-content{padding:12px 14px 8px}
  .modal-content ul{font-size:14px}
}

/* 自动补全下拉框 */
.autocomplete-items {
  position: absolute;
  top: 100%;              /* 紧贴输入框底部 */
  left: 0;
  right: 0;
  z-index: 99;
  background: #fff;
  border: 1px solid #cbd5e1;
  border-radius: 6px;
  max-height: 200px;
  overflow-y: auto;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}
.autocomplete-items div {
  padding: 8px 12px;
  cursor: pointer;
  font-size: 14px;
  font-family: 'Roboto', sans-serif;
}
.autocomplete-items div:hover {
  background-color: #f1f5f9;
}